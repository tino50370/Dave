{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://example.com/schemas/read-repo-files.schema.json",
  "title": "ReadRepositoryFiles",
  "type": "object",
  "required": ["provider", "paths"],
  "properties": {
    "provider": {
      "type": "string",
      "const": "github",
      "description": "Currently only 'github' is supported."
    },
    "owner": {
      "type": "string",
      "description": "GitHub organization or user. Required if repo_url not provided."
    },
    "repo": {
      "type": "string",
      "description": "GitHub repository name. Required if repo_url not provided."
    },
    "repo_url": {
      "type": "string",
      "format": "uri",
      "description": "Alternative to owner/repo. Example: https://github.com/octocat/Hello-World"
    },
    "ref": {
      "type": "string",
      "default": "main",
      "description": "Branch, tag, or commit SHA. Defaults to 'main'."
    },
    "paths": {
      "type": "array",
      "minItems": 1,
      "maxItems": 100,
      "items": {
        "type": "string",
        "description": "Path relative to repository root, e.g., 'src/app.py' or 'README.md'."
      }
    }
  },
  "allOf": [
    {
      "anyOf": [
        { "required": ["owner", "repo"] },
        { "required": ["repo_url"] }
      ]
    }
  ],
  "examples": [
    {
      "provider": "github",
      "owner": "octocat",
      "repo": "Hello-World",
      "ref": "main",
      "paths": ["README.md", "src/app.py"]
    },
    {
      "provider": "github",
      "repo_url": "https://github.com/octocat/Hello-World",
      "ref": "v1.2.3",
      "paths": ["CHANGELOG.md"]
    }
  ]
}